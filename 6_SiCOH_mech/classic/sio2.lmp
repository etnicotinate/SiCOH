
include init.in

# Compute initial state

include potential.in
thermo ${nthermo}
thermo_style custom step temp pe press density
run ${nequil}

# Run dynamics
include potential.in
include output.in

# save trajectory
dump dump_main all custom ${nthermo} dump_main.lammpstrj id type x y z
run ${nrun}

# output the result
# summarize sampling protocol

print "Stress sampling interval = ${nevery}"
variable tmp equal ${nrun}/${nevery}
print "Stress sample count = ${tmp}"
print "Born sampling interval = ${nevery}"
variable tmp equal ${nrun}/${nevery}
print "Born sample count = ${tmp}"

#               Ev = 93.88 GPa
#               Bv = 29.49 GPa
#               Gv = 48.42 GPa

print ""
print "Output the tensor to C.log"

print "${C11} ${C12} ${C13} ${C14} ${C15} ${C16}" &
    file C.log screen no
print "${C12} ${C22} ${C23} ${C24} ${C25} ${C26}"&
    append C.log screen no
print "${C13} ${C23} ${C33} ${C34} ${C35} ${C36}"&
    append C.log screen no
print "${C14} ${C24} ${C34} ${C44} ${C45} ${C46}"&
    append C.log screen no
print "${C15} ${C25} ${C35} ${C45} ${C55} ${C56}"&
    append C.log screen no
print "${C16} ${C26} ${C36} ${C46} ${C56} ${C66}"&
    append C.log screen no

print "done!"
